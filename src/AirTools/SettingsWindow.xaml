<Window x:Class="AirTools.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Air Tools 设置"
        Width="360" Height="240"
        WindowStartupLocation="CenterOwner"
        Background="Transparent"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True">

    <Window.Resources>
        <SolidColorBrush x:Key="BgDark" Color="#E0171A26"/>
        <SolidColorBrush x:Key="BgCard" Color="#8C2B3040"/>
        <SolidColorBrush x:Key="BgCardHover" Color="#B03D4358"/>
        <SolidColorBrush x:Key="AccentColor" Color="#89B4FA"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#CDD6F4"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#A6ADC8"/>
        <SolidColorBrush x:Key="TextDim" Color="#8B90AA"/>
        <SolidColorBrush x:Key="BorderColor" Color="#40FFFFFF"/>
    </Window.Resources>

    <Border CornerRadius="10" Background="{DynamicResource BgDark}" BorderBrush="{DynamicResource BorderColor}" BorderThickness="1"
            MouseLeftButtonDown="Border_MouseLeftButtonDown">
        <Border.Effect>
            <DropShadowEffect Color="#88000000" BlurRadius="14" ShadowDepth="0" Opacity="0.5"/>
        </Border.Effect>
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <DockPanel Grid.Row="0" Margin="0,0,0,16">
                <TextBlock Text="⚙ Air Tools 设置" FontSize="14" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}"/>
                <Button Content="✕" DockPanel.Dock="Right" Click="BtnClose_Click" Width="28" Height="28" FontSize="12" Cursor="Hand"
                        Background="Transparent" Foreground="{DynamicResource TextSecondary}" BorderThickness="0"/>
            </DockPanel>

            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="0,0,-10,0" Padding="0,0,10,0">
                <StackPanel>
                    <!-- 主题 -->
                    <Grid Margin="0,0,0,14">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="主题" Foreground="{DynamicResource TextPrimary}" VerticalAlignment="Center" FontSize="13"/>
                        <ComboBox x:Name="CmbTheme" Grid.Column="1" Width="140" Foreground="{DynamicResource TextPrimary}" Background="{DynamicResource BgCard}" SelectionChanged="CmbTheme_SelectionChanged">
                            <ComboBoxItem Content="跟随系统" Tag="0"/>
                            <ComboBoxItem Content="浅色" Tag="1"/>
                            <ComboBoxItem Content="深色" Tag="2"/>
                        </ComboBox>
                    </Grid>
                    <!-- 开机自启 -->
                    <Grid Margin="0,0,0,14">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="开机自启" Foreground="{DynamicResource TextPrimary}" VerticalAlignment="Center" FontSize="13"/>
                        <CheckBox x:Name="ChkStartup" Grid.Column="1" Foreground="{DynamicResource TextPrimary}"
                                  Checked="ChkStartup_Changed" Unchecked="ChkStartup_Changed"/>
                    </Grid>
                </StackPanel>
            </ScrollViewer>

            <Button Grid.Row="2" Content="确定" HorizontalAlignment="Right" Margin="0,16,0,0" Padding="16,8" Cursor="Hand"
                    Background="{DynamicResource AccentColor}" Foreground="White" BorderThickness="0" Click="BtnOk_Click"/>
        </Grid>
    </Border>
</Window>
